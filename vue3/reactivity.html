<div id="app">
  <!-- 여기에 뭐가 렌더링 된다. -->
</div>

<script>
  // var data = {
  //   message: 10,
  //   num: 20,
  // }

  // function render(sth) {
  //   var div = document.querySelector('#app');
  //   div.innerHTML = sth;
  // }

  // var app = new Proxy(data, {
  //   get() {
  //     console.log('값 접근')
  //   },
  //   set(target, prop, newValue) {
  //     console.log('값 갱신')
  //     target[prop] = newValue;
  //     render(newValue);
  //   }
  // })

  var data = {
    message: 10,
  };

  function render(sth) {
    var div = document.querySelector('#app');
    div.innerHTML = sth;
  }

  //데이터의 동작을 모방하는 무언가를 만들겠다.
  var app = new Proxy(data, {
    get() {
      console.log('값 접근');
    },

    set(target, prop, newValue) {
      // console.log('값 갱신');

      console.log(target, prop, newValue);

      target[prop] = newValue;

      render(newValue);
    },
  });
</script>
